{"mappings":"mMAAmB,MACjB,MAAMA,EAAOC,SAASC,cAAc,wBAC9BC,EAAOF,SAASC,cAAc,qBAC9BE,EAAUH,SAASC,cAAc,wCAMxBG,EAAaC,GAC1BA,EAAEC,iBACFH,EAAQI,YAAc,GAEtB,MAAMC,EAAO,IAAIC,SAASJ,EAAEK,QAC5BF,EAAKG,IAAI,SAAU,iBAEnB,MAAMC,QAAiBC,MAAMC,OAAOC,QAAS,CAC3CC,OAAQ,YACRR,IAGIS,QAAaL,EAASM,OAEtBD,EAAc,SAKpBf,EAAKiB,KAAOF,EAAW,KACvBf,EAAKkB,SALHjB,EAAQI,YAAcU,EAAY,MAQtC,MAAO,CACLI,OA3BAtB,GAAMuB,iBAAiB,SAAUlB,MANlB,GAuCLiB","sources":["admin/js/modules/JSONGenerator.js"],"sourcesContent":["const JSONGenerator = (() => {\n  const form = document.querySelector('.json-generator-form');\n  const link = document.querySelector('.js-download-json');\n  const errorEl = document.querySelector('.json-generator-error');\n\n  function bindEvents() {\n    form?.addEventListener('submit', handleSubmit);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    errorEl.textContent = '';\n\n    const body = new FormData(e.target);\n    body.set('action', 'generate_json');\n\n    const response = await fetch(wpdata.ajaxUrl, {\n      method: 'POST',\n      body\n    });\n\n    const data = await response.json();\n\n    if ( !data['success'] ) {\n      errorEl.textContent = data['error'];\n      return;\n    }\n\n    link.href = data['file'];\n    link.click();\n  }\n\n  return {\n    init () {\n      bindEvents();\n    }\n  }\n})();\n\nJSONGenerator.init();"],"names":["form","document","querySelector","link","errorEl","handleSubmit","e","preventDefault","textContent","body","FormData","target","set","response","fetch","wpdata","ajaxUrl","method","data","json","href","click","init","addEventListener"],"version":3,"file":"JSONGenerator.cb346279.js.map"}